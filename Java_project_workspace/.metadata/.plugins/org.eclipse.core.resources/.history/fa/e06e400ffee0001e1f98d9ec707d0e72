package com.society.controller;

import com.society.models.SocietyVo;
import com.society.services.SocietyService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.*;
import org.springframework.web.servlet.ModelAndView;

@Controller
public class SocietyController {

    @Autowired
    private SocietyService societyService;

    @GetMapping(value = "/society")
    public ModelAndView society() {
        return new ModelAndView("admin/societyDetails", "societyVo", this.societyService.findById(1));
    }

    @PostMapping(value = "/insertSociety")
    public ModelAndView insertSociety(@ModelAttribute SocietyVo societyVo) {
        this.societyService.insertSociety(societyVo);
        return new ModelAndView("admin/societyDetails", "societyVo", this.societyService.findById(societyVo.getId()));
    }

}
